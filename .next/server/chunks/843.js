"use strict";exports.id=843,exports.ids=[843],exports.modules={8987:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(5344),a=r(6506);function o(){return s.jsx("footer",{className:"hidden md:block bg-slate-900 text-slate-400 py-12 border-t-8 border-amber-400",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 text-center flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{children:"\xa9 2024 Prasobpai. All wrongs reserved."}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 text-sm font-medium",children:[s.jsx(a.default,{href:"/about",className:"hover:text-amber-400 transition-colors",children:"เกี่ยวกับเรา"}),s.jsx(a.default,{href:"/",className:"hover:text-amber-400 transition-colors",children:"รวมเรื่องซวยรายวัน"}),s.jsx(a.default,{href:"/",className:"hover:text-amber-400 transition-colors",children:"บทความแนะนำ"}),s.jsx(a.default,{href:"/privacy",className:"hover:text-amber-400 transition-colors",children:"นโยบายความเป็นส่วนตัว"})]})]})})}},8331:(e,t,r)=>{r.d(t,{Z:()=>I});var s=r(5344),a=r(4202),o=r(7953),n=r(4395),i=r(7702),l=r(2217),c=r(3169),d=r(6505),u=r(7128),m=r(5538),f=r(7918),x=r(534),p=r(5768),b=r(1669),h=r(1012),g=r(5825),j=r(1601),k=r(5298),y=r(3858),w=r(4380),D=r(4758),v=r(9330),z=r(2959),N=r(2569),C=r(8023),A=r(3107),Z=r(5405),E=r(2594),B=r(7853);let T=f.vc.create({name:"spoiler",addAttributes:()=>({class:{default:"spoiler"}}),parseHTML:()=>[{tag:"span",getAttrs:e=>e.classList.contains("spoiler")&&null}],renderHTML:({HTMLAttributes:e})=>["span",(0,f.P1)(e),0],addCommands(){return{toggleSpoiler:()=>({commands:e})=>e.toggleMark(this.name)}}}),$=({editor:e,onAddImage:t,onAddYoutube:r,onSetLink:a,onAddEmoji:o})=>{if(!e)return null;let n=(e=!1)=>`p-2 rounded hover:bg-slate-700 transition-colors ${e?"bg-slate-700 text-amber-400":"text-slate-300"}`;return(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 p-2 bg-slate-800 border-b border-slate-700 rounded-t-lg items-center",children:[(0,s.jsxs)("div",{className:"flex gap-1 border-r border-slate-600 pr-2 mr-1",children:[s.jsx("button",{type:"button",onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),className:n(),children:s.jsx(x.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),className:n(),children:s.jsx(p.Z,{size:18})})]}),(0,s.jsxs)("div",{className:"flex gap-1 border-r border-slate-600 pr-2 mr-1",children:[s.jsx("button",{type:"button",onClick:t,className:n(),title:"Upload Image",children:s.jsx(b.Z,{size:18})}),s.jsx("button",{type:"button",onClick:r,className:n(e.isActive("youtube")),title:"Embed YouTube",children:s.jsx(h.Z,{size:18})}),s.jsx("button",{type:"button",className:`opacity-50 cursor-not-allowed ${n()}`,title:"Location (Coming Soon)",children:s.jsx(g.Z,{size:18})}),s.jsx("button",{type:"button",onClick:o,className:n(),title:"Emoji",children:s.jsx(j.Z,{size:18})})]}),(0,s.jsxs)("div",{className:"flex gap-1 border-r border-slate-600 pr-2 mr-1",children:[s.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBold().run(),className:n(e.isActive("bold")),children:s.jsx(k.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleItalic().run(),className:n(e.isActive("italic")),children:s.jsx(y.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleUnderline().run(),className:n(e.isActive("underline")),children:s.jsx(w.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleStrike().run(),className:n(e.isActive("strike")),children:s.jsx(D.Z,{size:18})})]}),(0,s.jsxs)("div",{className:"flex gap-1 border-r border-slate-600 pr-2 mr-1",children:[s.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("left").run(),className:n(e.isActive({textAlign:"left"})),children:s.jsx(v.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("center").run(),className:n(e.isActive({textAlign:"center"})),children:s.jsx(z.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("right").run(),className:n(e.isActive({textAlign:"right"})),children:s.jsx(N.Z,{size:18})})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[s.jsx("button",{type:"button",onClick:a,className:n(e.isActive("link")),children:s.jsx(C.Z,{size:18})}),s.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleCodeBlock().run(),className:n(e.isActive("codeBlock")),children:s.jsx(A.Z,{size:18})}),(0,s.jsxs)("button",{type:"button",onClick:()=>e.chain().focus().toggleSpoiler().run(),className:n(e.isActive("spoiler")),title:"Spoiler Tag",children:[s.jsx(Z.Z,{size:18})," ",s.jsx("span",{className:"text-xs font-bold ml-1",children:"spoil"})]})]})]})};function I({content:e,onChange:t,userId:r}){let f=async e=>{if(!r)return B.default.fire("กรุณาเข้าสู่ระบบ","ต้องเข้าสู่ระบบก่อนอัพโหลดรูป","warning"),null;if(e.size>5242880)return B.default.fire("ไฟล์ใหญ่เกินไป","ขนาดรูปต้องไม่เกิน 5MB","warning"),null;let t=e.name.split(".").pop(),s=`${r}-${Date.now()}.${t}`,a=`${s}`;try{let{error:t}=await E.supabase.storage.from("story-images").upload(a,e);if(t)throw t;let{data:r}=E.supabase.storage.from("story-images").getPublicUrl(a);return r.publicUrl}catch(e){return console.error("Upload error:",e),e.message.includes("Bucket")?B.default.fire("Error",'Bucket "story-images" missing. Please run the SQL script.',"error"):B.default.fire("Error","อัพโหลดรูปไม่สำเร็จ","error"),null}},x=(0,a.jE)({immediatelyRender:!1,extensions:[o.Z,T,n.ZP.configure({inline:!0,allowBase64:!1}).extend({addAttributes(){return{...this.parent?.(),width:{default:"100%",renderHTML:e=>({width:e.width,style:`width: ${e.width}`})}}}}),i.Z.configure({controls:!1}),l.ZP.configure({openOnClick:!1}),c.Z,d.Z.configure({types:["heading","paragraph","image"]}),u.Z.configure({limit:1e4}),m.Z.configure({placeholder:"เขียนเรื่องราวของคุณที่นี่..."})],content:e,onUpdate:({editor:e})=>{t(e.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl m-5 focus:outline-none min-h-[300px] text-slate-300"},handleDrop:(e,t,r,s)=>{if(!s&&t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files[0]){let r=t.dataTransfer.files[0];if(r.type.startsWith("image/"))return t.preventDefault(),f(r).then(r=>{if(r){let{schema:s}=e.state,a=e.posAtCoords({left:t.clientX,top:t.clientY}),o=s.nodes.image.create({src:r}),n=e.state.tr.insert(a.pos,o);e.dispatch(n)}}),!0}return!1}}}),p=async()=>{let{value:e}=await B.default.fire({title:"ใส่ลิงก์ YouTube",input:"url",inputPlaceholder:"https://www.youtube.com/watch?v=...",showCancelButton:!0,confirmButtonText:"ฝังคลิป",cancelButtonText:"ยกเลิก",confirmButtonColor:"#0f172a",background:"#fff"});e&&x&&x.chain().focus().setYoutubeVideo({src:e}).run()},b=async()=>{if(!x)return;let e=x.getAttributes("link").href,{value:t}=await B.default.fire({title:"ใส่ลิงก์",input:"url",inputValue:e,inputPlaceholder:"https://example.com",showCancelButton:!0,confirmButtonText:"ตกลง",cancelButtonText:"ยกเลิก",confirmButtonColor:"#0f172a"});if(void 0!==t){if(null===t||""===t){x.chain().focus().extendMarkRange("link").unsetLink().run();return}x.chain().focus().extendMarkRange("link").setLink({href:t}).run()}};return(0,s.jsxs)("div",{className:"bg-[#0f242a] border border-slate-700 rounded-lg overflow-hidden shadow-inner",onClick:e=>{let t=e.target;t.classList.contains("spoiler")&&t.classList.toggle("is-revealed")},children:[s.jsx($,{editor:x,onAddImage:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target.files?.[0];if(t){let e=await f(t);e&&x&&x.chain().focus().setImage({src:e}).run()}},e.click()},onAddYoutube:p,onSetLink:b,onAddEmoji:()=>{B.default.fire({title:"เลือกอิโมจิ",html:`
                <div id="emoji-grid" class="grid grid-cols-5 gap-2 max-h-[300px] overflow-y-auto p-1">
                    ${["\uD83D\uDE00","\uD83D\uDE02","\uD83D\uDE0D","\uD83D\uDE2D","\uD83D\uDE21","\uD83D\uDC4D","\uD83D\uDC4E","\uD83C\uDF89","❤️","\uD83D\uDD25","✨","\uD83C\uDF1F","\uD83C\uDF55","\uD83D\uDE97","\uD83D\uDC36","\uD83D\uDC31","✅","❌","\uD83D\uDC80","\uD83D\uDC7B"].map(e=>`<button type="button" class="emoji-btn text-2xl p-2 hover:bg-slate-100 rounded transition-colors w-full aspect-square flex items-center justify-center">${e}</button>`).join("")}
                </div>
            `,showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonColor:"#0f172a",didOpen:()=>{let e=document.getElementById("emoji-grid");e&&e.querySelectorAll(".emoji-btn").forEach(e=>{e.addEventListener("click",()=>{let t=e.textContent;B.default.close(),x&&x.chain().focus().insertContent(t).run()})})}})}}),s.jsx("div",{className:"bg-[#163038] text-slate-200 p-2 min-h-[350px]",children:s.jsx(a.kg,{editor:x})}),(0,s.jsxs)("div",{className:"bg-[#0f242a] px-4 py-2 text-xs text-slate-400 border-t border-slate-800 flex justify-between",children:[s.jsx("span",{children:"* พิมพ์ข้อความได้ไม่เกิน 10,000 ตัวอักษร"}),(0,s.jsxs)("span",{children:[x?.storage.characterCount.characters()||0," / 10000"]})]})]})}},6983:(e,t,r)=>{r.d(t,{Z:()=>i});var s=r(5344),a=r(7983),o=r.n(a),n=r(3729);function i({value:e,onChange:t,name:r="severity"}){let[a,i]=(0,n.useState)(!1),l=e<=2?{emoji:"\uD83D\uDE0C",text:"จิ๊บๆ ขำๆ",desc:"เรื่องเล็กน้อย เล่าสู่กันฟัง",color:"text-green-500",border:"border-green-500",track:"from-green-200 to-green-500"}:e<=4?{emoji:"\uD83D\uDE05",text:"เริ่มตึงๆ",desc:"มีเหงื่อตกนิดหน่อย แต่ยังไหว",color:"text-yellow-500",border:"border-yellow-500",track:"from-green-300 via-yellow-300 to-yellow-500"}:e<=6?{emoji:"\uD83D\uDE30",text:"งานเข้าแล้ว",desc:"สถานการณ์เริ่มไม่สู้ดี ต้องการกำลังใจ",color:"text-orange-500",border:"border-orange-500",track:"from-yellow-300 via-orange-400 to-orange-600"}:e<=8?{emoji:"\uD83D\uDE2D",text:"มรสุมชีวิต",desc:"หนักหนาสาหัส อยากระบายสุดๆ",color:"text-red-500",border:"border-red-500",track:"from-orange-400 via-red-500 to-red-600"}:{emoji:"\uD83E\uDD2F",text:"หายนะระดับชาติ",desc:"โลกแตก! ไม่ไหวแล้วโว้ยยย",color:"text-purple-600",border:"border-purple-600",track:"from-red-500 via-red-700 to-purple-800"};return(0,n.useEffect)(()=>{if(e>=9){i(!0);let e=setTimeout(()=>i(!1),500);return()=>clearTimeout(e)}},[e]),(0,s.jsxs)("div",{className:`jsx-a84e904fd5c576d2 space-y-3 bg-gray-50 p-4 rounded-xl border transition-all duration-300 ${a?"animate-shake":""} ${l.border}`,children:[(0,s.jsxs)("div",{className:"jsx-a84e904fd5c576d2 flex justify-between items-end",children:[s.jsx("label",{className:"jsx-a84e904fd5c576d2 block text-gray-700 font-semibold",children:"ความรุนแรง (1-10)"}),s.jsx("div",{className:`jsx-a84e904fd5c576d2 text-right transition-colors duration-300 ${l.color}`,children:s.jsx("span",{className:"jsx-a84e904fd5c576d2 text-sm font-medium opacity-80 block",children:l.text})})]}),(0,s.jsxs)("div",{className:"jsx-a84e904fd5c576d2 relative py-2 pb-6 group",children:[s.jsx("div",{className:`jsx-a84e904fd5c576d2 absolute top-2 left-0 w-full h-3 rounded-full opacity-30 bg-gradient-to-r ${l.track}`}),s.jsx("input",{type:"range",name:r,min:"1",max:"10",value:e,onChange:t,className:`jsx-a84e904fd5c576d2 relative z-20 w-full h-3 bg-transparent appearance-none cursor-pointer focus:outline-none slider-thumb-custom ${l.color}`})]}),(0,s.jsxs)("div",{className:"jsx-a84e904fd5c576d2 flex items-center gap-3 mt-2",children:[s.jsx("div",{className:"jsx-a84e904fd5c576d2 text-4xl animate-pop-in filter drop-shadow-md transform hover:scale-110 transition-transform cursor-default",children:l.emoji},e),(0,s.jsxs)("div",{className:"jsx-a84e904fd5c576d2 flex-1",children:[(0,s.jsxs)("div",{className:`jsx-a84e904fd5c576d2 text-sm font-bold transition-colors duration-300 ${l.color}`,children:["ระดับ ",e,"/10"]}),s.jsx("div",{className:"jsx-a84e904fd5c576d2 text-xs text-gray-500 transition-all duration-300",children:l.desc})]})]}),s.jsx(o(),{id:"a84e904fd5c576d2",children:"input[type=range].jsx-a84e904fd5c576d2::-webkit-slider-thumb{-webkit-appearance:none;height:24px;width:24px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#fff;margin-top:-12px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);border:4px solid currentColor;-webkit-transition:-webkit-transform.1s ease-in-out;-moz-transition:-moz-transform.1s ease-in-out;-o-transition:-o-transform.1s ease-in-out;transition:-webkit-transform.1s ease-in-out;transition:-moz-transform.1s ease-in-out;transition:-o-transform.1s ease-in-out;transition:transform.1s ease-in-out;color:inherit}input[type=range].text-green-500.jsx-a84e904fd5c576d2::-webkit-slider-thumb{border-color:rgb(34 197 94)}input[type=range].text-yellow-500.jsx-a84e904fd5c576d2::-webkit-slider-thumb{border-color:rgb(234 179 8)}input[type=range].text-orange-500.jsx-a84e904fd5c576d2::-webkit-slider-thumb{border-color:rgb(249 115 22)}input[type=range].text-red-500.jsx-a84e904fd5c576d2::-webkit-slider-thumb{border-color:rgb(239 68 68)}input[type=range].text-purple-600.jsx-a84e904fd5c576d2::-webkit-slider-thumb{border-color:rgb(147 51 234)}input[type=range].jsx-a84e904fd5c576d2::-webkit-slider-thumb:hover{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}input[type=range].jsx-a84e904fd5c576d2::-webkit-slider-runnable-track{width:100%;height:12px;background:transparent}.animate-shake.jsx-a84e904fd5c576d2{-webkit-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-moz-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-o-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;animation:shake.5s cubic-bezier(.36,.07,.19,.97)both}@-webkit-keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-moz-keyframes shake{10%,90%{-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-o-keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}@keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}.animate-pop-in.jsx-a84e904fd5c576d2{-webkit-animation:popIn.3s cubic-bezier(.175,.885,.32,1.275);-moz-animation:popIn.3s cubic-bezier(.175,.885,.32,1.275);-o-animation:popIn.3s cubic-bezier(.175,.885,.32,1.275);animation:popIn.3s cubic-bezier(.175,.885,.32,1.275)}@-webkit-keyframes popIn{from{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes popIn{from{-moz-transform:scale(.5);transform:scale(.5);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes popIn{from{-o-transform:scale(.5);transform:scale(.5);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes popIn{from{-webkit-transform:scale(.5);-moz-transform:scale(.5);-o-transform:scale(.5);transform:scale(.5);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}"})]})}}};