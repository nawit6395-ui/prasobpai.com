(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5148:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),o=s(8300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23)),"C:\\Users\\ณวิธบุญยะรัตน์\\Desktop\\Next.js\\4.Prasobpai\\app\\login\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,311)),"C:\\Users\\ณวิธบุญยะรัตน์\\Desktop\\Next.js\\4.Prasobpai\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ณวิธบุญยะรัตน์\\Desktop\\Next.js\\4.Prasobpai\\app\\login\\page.js"],u="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},584:(e,t,s)=>{Promise.resolve().then(s.bind(s,1951))},1951:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5344),r=s(3729),l=s(7853),n=s(8428),o=s(2594),i=s(9873),d=s(8987),c=s(2473),u=s(4285);let m=(0,u.Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),x=(0,u.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),p=(0,u.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),f=(0,u.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function h(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[b,g]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),w=async t=>{t.preventDefault(),s(!0);try{if(u){let{data:e,error:t}=await o.supabase.auth.signUp({email:b,password:v,options:{data:{username:y,full_name:y,avatar_url:`https://api.dicebear.com/7.x/avataaars/svg?seed=${y}`}}});if(t)throw t;await l.default.fire({title:"ลงทะเบียนสำเร็จ!",text:"กรุณาตรวจสอบอีเมลเพื่อยืนยันตัวตน",icon:"success",confirmButtonText:"ตกลง",confirmButtonColor:"#0f172a"}),h(!1)}else{let{data:t,error:s}=await o.supabase.auth.signInWithPassword({email:b,password:v});if(s)throw s;l.default.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",l.default.stopTimer),e.addEventListener("mouseleave",l.default.resumeTimer)}}).fire({icon:"success",title:"เข้าสู่ระบบสำเร็จ"}),e.push("/"),e.refresh()}}catch(o){console.error("Auth Error:",o);let e="เกิดข้อผิดพลาด",t=o.message,s="error",a=!1,r="ลองใหม่",n="ยกเลิก";o.message.includes("Invalid login credentials")?(e="เข้าสู่ระบบไม่สำเร็จ",t="ไม่พบบัญชีผู้ใช้ หรือรหัสผ่านไม่ถูกต้อง\nคุณลงทะเบียนหรือยัง?",s="warning",r="สมัครสมาชิกเลย",n="ลองใหม่อีกครั้ง",a=!0):o.message.includes("User already registered")&&(e="บัญชีนี้มีอยู่แล้ว",t="อีเมลนี้ถูกใช้งานแล้ว กรุณาเข้าสู่ระบบ",s="info",r="เข้าสู่ระบบ",a=!1),l.default.fire({title:e,text:t,icon:s,showCancelButton:a,confirmButtonText:r,cancelButtonText:n,confirmButtonColor:"#0f172a",cancelButtonColor:"#94a3b8"}).then(e=>{e.isConfirmed&&(o.message.includes("Invalid login credentials")?h(!0):o.message.includes("User already registered")&&h(!1))})}finally{s(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#fffbf0] font-sans selection:bg-amber-200 selection:text-slate-900",children:[a.jsx(i.default,{}),a.jsx("div",{className:"max-w-md mx-auto px-4 py-8 md:py-20 mt-20 md:mt-0",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-xl border-4 border-slate-900 shadow-[8px_8px_0px_0px_rgba(251,191,36,1)]",children:[(0,a.jsxs)("h2",{className:"text-3xl font-black text-slate-900 mb-2 flex items-center gap-2",children:[u?a.jsx(c.Z,{size:32,className:"text-amber-500"}):a.jsx(m,{size:32,className:"text-amber-500"}),u?"สมัครสมาชิก":"เข้าสู่ระบบ"]}),a.jsx("p",{className:"text-slate-500 mb-6 font-medium",children:u?"เข้าร่วมแก๊งคนดวงตกได้แล้ววันนี้":"กลับมาแชร์ความพังกันต่อเถอะ"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[u&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-3 text-slate-400",size:20}),a.jsx("input",{type:"text",value:y,onChange:e=>N(e.target.value),className:"w-full pl-10 p-3 border-2 border-slate-300 rounded-lg focus:border-slate-900 focus:outline-none bg-slate-50 font-medium",placeholder:"ตั้งชื่อเท่ๆ",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(x,{className:"absolute left-3 top-3 text-slate-400",size:20}),a.jsx("input",{type:"email",value:b,onChange:e=>g(e.target.value),className:"w-full pl-10 p-3 border-2 border-slate-300 rounded-lg focus:border-slate-900 focus:outline-none bg-slate-50 font-medium",placeholder:"name@example.com",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(p,{className:"absolute left-3 top-3 text-slate-400",size:20}),a.jsx("input",{type:"password",value:v,onChange:e=>j(e.target.value),className:"w-full pl-10 p-3 border-2 border-slate-300 rounded-lg focus:border-slate-900 focus:outline-none bg-slate-50 font-medium",placeholder:"••••••••",required:!0})]})]}),(0,a.jsxs)("button",{type:"submit",disabled:t,className:"w-full bg-slate-900 text-amber-400 font-bold py-3 rounded-lg border-2 border-transparent hover:border-amber-400 shadow-lg transform active:scale-95 transition-transform flex justify-center items-center gap-2 group",children:[t?"กำลังโหลด...":u?"สมัครสมาชิก":"เข้าสู่ระบบ",!t&&a.jsx(f,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-slate-600 text-sm font-medium",children:[u?"มีบัญชีอยู่แล้ว?":"ยังไม่มีบัญชี?",a.jsx("button",{onClick:()=>h(!u),className:"ml-2 text-slate-900 font-bold underline decoration-amber-400 decoration-2 underline-offset-2 hover:text-amber-600",children:u?"เข้าสู่ระบบ":"สมัครสมาชิกใหม่"})]})})]})}),a.jsx(d.Z,{})]})}},8987:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(5344),r=s(6506);function l(){return a.jsx("footer",{className:"hidden md:block bg-slate-900 text-slate-400 py-12 border-t-8 border-amber-400",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 text-center flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsx("p",{children:"\xa9 2024 Prasobpai. All wrongs reserved."}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 text-sm font-medium",children:[a.jsx(r.default,{href:"/about",className:"hover:text-amber-400 transition-colors",children:"เกี่ยวกับเรา"}),a.jsx(r.default,{href:"/",className:"hover:text-amber-400 transition-colors",children:"รวมเรื่องซวยรายวัน"}),a.jsx(r.default,{href:"/",className:"hover:text-amber-400 transition-colors",children:"บทความแนะนำ"}),a.jsx(r.default,{href:"/privacy",className:"hover:text-amber-400 transition-colors",children:"นโยบายความเป็นส่วนตัว"})]})]})})}},23:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\ณวิธบุญยะรัตน์\Desktop\Next.js\4.Prasobpai\app\login\page.js`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,901,727,567,154],()=>s(5148));module.exports=a})();