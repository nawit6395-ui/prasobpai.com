"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/prosemirror-dropcursor";
exports.ids = ["vendor-chunks/prosemirror-dropcursor"];
exports.modules = {

/***/ "(ssr)/./node_modules/prosemirror-dropcursor/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/prosemirror-dropcursor/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dropCursor: () => (/* binding */ dropCursor)\n/* harmony export */ });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n/* harmony import */ var prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prosemirror-transform */ \"(ssr)/./node_modules/prosemirror-transform/dist/index.js\");\n\n\n/**\nCreate a plugin that, when added to a ProseMirror instance,\ncauses a decoration to show up at the drop position when something\nis dragged over the editor.\n\nNodes may add a `disableDropCursor` property to their spec to\ncontrol the showing of a drop cursor inside them. This may be a\nboolean or a function, which will be called with a view and a\nposition, and should return a boolean.\n*/ function dropCursor(options = {}) {\n    return new prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        view (editorView) {\n            return new DropCursorView(editorView, options);\n        }\n    });\n}\nclass DropCursorView {\n    constructor(editorView, options){\n        var _a;\n        this.editorView = editorView;\n        this.cursorPos = null;\n        this.element = null;\n        this.timeout = -1;\n        this.width = (_a = options.width) !== null && _a !== void 0 ? _a : 1;\n        this.color = options.color === false ? undefined : options.color || \"black\";\n        this.class = options.class;\n        this.handlers = [\n            \"dragover\",\n            \"dragend\",\n            \"drop\",\n            \"dragleave\"\n        ].map((name)=>{\n            let handler = (e)=>{\n                this[name](e);\n            };\n            editorView.dom.addEventListener(name, handler);\n            return {\n                name,\n                handler\n            };\n        });\n    }\n    destroy() {\n        this.handlers.forEach(({ name, handler })=>this.editorView.dom.removeEventListener(name, handler));\n    }\n    update(editorView, prevState) {\n        if (this.cursorPos != null && prevState.doc != editorView.state.doc) {\n            if (this.cursorPos > editorView.state.doc.content.size) this.setCursor(null);\n            else this.updateOverlay();\n        }\n    }\n    setCursor(pos) {\n        if (pos == this.cursorPos) return;\n        this.cursorPos = pos;\n        if (pos == null) {\n            this.element.parentNode.removeChild(this.element);\n            this.element = null;\n        } else {\n            this.updateOverlay();\n        }\n    }\n    updateOverlay() {\n        let $pos = this.editorView.state.doc.resolve(this.cursorPos);\n        let isBlock = !$pos.parent.inlineContent, rect;\n        let editorDOM = this.editorView.dom, editorRect = editorDOM.getBoundingClientRect();\n        let scaleX = editorRect.width / editorDOM.offsetWidth, scaleY = editorRect.height / editorDOM.offsetHeight;\n        if (isBlock) {\n            let before = $pos.nodeBefore, after = $pos.nodeAfter;\n            if (before || after) {\n                let node = this.editorView.nodeDOM(this.cursorPos - (before ? before.nodeSize : 0));\n                if (node) {\n                    let nodeRect = node.getBoundingClientRect();\n                    let top = before ? nodeRect.bottom : nodeRect.top;\n                    if (before && after) top = (top + this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top) / 2;\n                    let halfWidth = this.width / 2 * scaleY;\n                    rect = {\n                        left: nodeRect.left,\n                        right: nodeRect.right,\n                        top: top - halfWidth,\n                        bottom: top + halfWidth\n                    };\n                }\n            }\n        }\n        if (!rect) {\n            let coords = this.editorView.coordsAtPos(this.cursorPos);\n            let halfWidth = this.width / 2 * scaleX;\n            rect = {\n                left: coords.left - halfWidth,\n                right: coords.left + halfWidth,\n                top: coords.top,\n                bottom: coords.bottom\n            };\n        }\n        let parent = this.editorView.dom.offsetParent;\n        if (!this.element) {\n            this.element = parent.appendChild(document.createElement(\"div\"));\n            if (this.class) this.element.className = this.class;\n            this.element.style.cssText = \"position: absolute; z-index: 50; pointer-events: none;\";\n            if (this.color) {\n                this.element.style.backgroundColor = this.color;\n            }\n        }\n        this.element.classList.toggle(\"prosemirror-dropcursor-block\", isBlock);\n        this.element.classList.toggle(\"prosemirror-dropcursor-inline\", !isBlock);\n        let parentLeft, parentTop;\n        if (!parent || parent == document.body && getComputedStyle(parent).position == \"static\") {\n            parentLeft = -pageXOffset;\n            parentTop = -pageYOffset;\n        } else {\n            let rect = parent.getBoundingClientRect();\n            let parentScaleX = rect.width / parent.offsetWidth, parentScaleY = rect.height / parent.offsetHeight;\n            parentLeft = rect.left - parent.scrollLeft * parentScaleX;\n            parentTop = rect.top - parent.scrollTop * parentScaleY;\n        }\n        this.element.style.left = (rect.left - parentLeft) / scaleX + \"px\";\n        this.element.style.top = (rect.top - parentTop) / scaleY + \"px\";\n        this.element.style.width = (rect.right - rect.left) / scaleX + \"px\";\n        this.element.style.height = (rect.bottom - rect.top) / scaleY + \"px\";\n    }\n    scheduleRemoval(timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout(()=>this.setCursor(null), timeout);\n    }\n    dragover(event) {\n        if (!this.editorView.editable) return;\n        let pos = this.editorView.posAtCoords({\n            left: event.clientX,\n            top: event.clientY\n        });\n        let node = pos && pos.inside >= 0 && this.editorView.state.doc.nodeAt(pos.inside);\n        let disableDropCursor = node && node.type.spec.disableDropCursor;\n        let disabled = typeof disableDropCursor == \"function\" ? disableDropCursor(this.editorView, pos, event) : disableDropCursor;\n        if (pos && !disabled) {\n            let target = pos.pos;\n            if (this.editorView.dragging && this.editorView.dragging.slice) {\n                let point = (0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.dropPoint)(this.editorView.state.doc, target, this.editorView.dragging.slice);\n                if (point != null) target = point;\n            }\n            this.setCursor(target);\n            this.scheduleRemoval(5000);\n        }\n    }\n    dragend() {\n        this.scheduleRemoval(20);\n    }\n    drop() {\n        this.scheduleRemoval(20);\n    }\n    dragleave(event) {\n        if (!this.editorView.dom.contains(event.relatedTarget)) this.setCursor(null);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3ItZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNPO0FBRWxEOzs7Ozs7Ozs7QUFTQSxHQUNBLFNBQVNFLFdBQVdDLFVBQVUsQ0FBQyxDQUFDO0lBQzVCLE9BQU8sSUFBSUgscURBQU1BLENBQUM7UUFDZEksTUFBS0MsVUFBVTtZQUFJLE9BQU8sSUFBSUMsZUFBZUQsWUFBWUY7UUFBVTtJQUN2RTtBQUNKO0FBQ0EsTUFBTUc7SUFDRkMsWUFBWUYsVUFBVSxFQUFFRixPQUFPLENBQUU7UUFDN0IsSUFBSUs7UUFDSixJQUFJLENBQUNILFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDSSxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLE9BQU8sR0FBRyxDQUFDO1FBQ2hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLENBQUNKLEtBQUtMLFFBQVFTLEtBQUssTUFBTSxRQUFRSixPQUFPLEtBQUssSUFBSUEsS0FBSztRQUNuRSxJQUFJLENBQUNLLEtBQUssR0FBR1YsUUFBUVUsS0FBSyxLQUFLLFFBQVFDLFlBQWFYLFFBQVFVLEtBQUssSUFBSTtRQUNyRSxJQUFJLENBQUNFLEtBQUssR0FBR1osUUFBUVksS0FBSztRQUMxQixJQUFJLENBQUNDLFFBQVEsR0FBRztZQUFDO1lBQVk7WUFBVztZQUFRO1NBQVksQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQTtZQUM3RCxJQUFJQyxVQUFVLENBQUNDO2dCQUFRLElBQUksQ0FBQ0YsS0FBSyxDQUFDRTtZQUFJO1lBQ3RDZixXQUFXZ0IsR0FBRyxDQUFDQyxnQkFBZ0IsQ0FBQ0osTUFBTUM7WUFDdEMsT0FBTztnQkFBRUQ7Z0JBQU1DO1lBQVE7UUFDM0I7SUFDSjtJQUNBSSxVQUFVO1FBQ04sSUFBSSxDQUFDUCxRQUFRLENBQUNRLE9BQU8sQ0FBQyxDQUFDLEVBQUVOLElBQUksRUFBRUMsT0FB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LEVBQUU2QixLQUFLeUQsU0FDeENPO1FBQ04sSUFBSWhFLE9BQU8sQ0FBQ21FLFVBQVU7WUFDbEIsSUFBSUMsU0FBU3BFLElBQUlBLEdBQUc7WUFDcEIsSUFBSSxJQUFJLENBQUM3QixVQUFVLENBQUNrRyxRQUFRLElBQUksSUFBSSxDQUFDbEcsVUFBVSxDQUFDa0csUUFBUSxDQUFDQyxLQUFLLEVBQUU7Z0JBQzVELElBQUlDLFFBQVF4RyxnRUFBU0EsQ0FBQyxJQUFJLENBQUNJLFVBQVUsQ0FBQ3dCLEtBQUssQ0FBQ0QsR0FBRyxFQUFFMEUsUUFBUSxJQUFJLENBQUNqRyxVQUFVLENBQUNrRyxRQUFRLENBQUNDLEtBQUs7Z0JBQ3ZGLElBQUlDLFNBQVMsTUFDVEgsU0FBU0c7WUFDakI7WUFDQSxJQUFJLENBQUN6RSxTQUFTLENBQUNzRTtZQUNmLElBQUksQ0FBQ2YsZUFBZSxDQUFDO1FBQ3pCO0lBQ0o7SUFDQW1CLFVBQVU7UUFDTixJQUFJLENBQUNuQixlQUFlLENBQUM7SUFDekI7SUFDQW9CLE9BQU87UUFDSCxJQUFJLENBQUNwQixlQUFlLENBQUM7SUFDekI7SUFDQXFCLFVBQVVqQixLQUFLLEVBQUU7UUFDYixJQUFJLENBQUMsSUFBSSxDQUFDdEYsVUFBVSxDQUFDZ0IsR0FBRyxDQUFDd0YsUUFBUSxDQUFDbEIsTUFBTW1CLGFBQWEsR0FDakQsSUFBSSxDQUFDOUUsU0FBUyxDQUFDO0lBQ3ZCO0FBQ0o7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFzb2JwYWktd2ViLy4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLWRyb3BjdXJzb3IvZGlzdC9pbmRleC5qcz85ZWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcbmltcG9ydCB7IGRyb3BQb2ludCB9IGZyb20gJ3Byb3NlbWlycm9yLXRyYW5zZm9ybSc7XG5cbi8qKlxuQ3JlYXRlIGEgcGx1Z2luIHRoYXQsIHdoZW4gYWRkZWQgdG8gYSBQcm9zZU1pcnJvciBpbnN0YW5jZSxcbmNhdXNlcyBhIGRlY29yYXRpb24gdG8gc2hvdyB1cCBhdCB0aGUgZHJvcCBwb3NpdGlvbiB3aGVuIHNvbWV0aGluZ1xuaXMgZHJhZ2dlZCBvdmVyIHRoZSBlZGl0b3IuXG5cbk5vZGVzIG1heSBhZGQgYSBgZGlzYWJsZURyb3BDdXJzb3JgIHByb3BlcnR5IHRvIHRoZWlyIHNwZWMgdG9cbmNvbnRyb2wgdGhlIHNob3dpbmcgb2YgYSBkcm9wIGN1cnNvciBpbnNpZGUgdGhlbS4gVGhpcyBtYXkgYmUgYVxuYm9vbGVhbiBvciBhIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgdmlldyBhbmQgYVxucG9zaXRpb24sIGFuZCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbi5cbiovXG5mdW5jdGlvbiBkcm9wQ3Vyc29yKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBuZXcgUGx1Z2luKHtcbiAgICAgICAgdmlldyhlZGl0b3JWaWV3KSB7IHJldHVybiBuZXcgRHJvcEN1cnNvclZpZXcoZWRpdG9yVmlldywgb3B0aW9ucyk7IH1cbiAgICB9KTtcbn1cbmNsYXNzIERyb3BDdXJzb3JWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihlZGl0b3JWaWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5lZGl0b3JWaWV3ID0gZWRpdG9yVmlldztcbiAgICAgICAgdGhpcy5jdXJzb3JQb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy53aWR0aCA9IChfYSA9IG9wdGlvbnMud2lkdGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDE7XG4gICAgICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmNvbG9yID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IChvcHRpb25zLmNvbG9yIHx8IFwiYmxhY2tcIik7XG4gICAgICAgIHRoaXMuY2xhc3MgPSBvcHRpb25zLmNsYXNzO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW1wiZHJhZ292ZXJcIiwgXCJkcmFnZW5kXCIsIFwiZHJvcFwiLCBcImRyYWdsZWF2ZVwiXS5tYXAobmFtZSA9PiB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IChlKSA9PiB7IHRoaXNbbmFtZV0oZSk7IH07XG4gICAgICAgICAgICBlZGl0b3JWaWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZSwgaGFuZGxlciB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5mb3JFYWNoKCh7IG5hbWUsIGhhbmRsZXIgfSkgPT4gdGhpcy5lZGl0b3JWaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpKTtcbiAgICB9XG4gICAgdXBkYXRlKGVkaXRvclZpZXcsIHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JQb3MgIT0gbnVsbCAmJiBwcmV2U3RhdGUuZG9jICE9IGVkaXRvclZpZXcuc3RhdGUuZG9jKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJzb3JQb3MgPiBlZGl0b3JWaWV3LnN0YXRlLmRvYy5jb250ZW50LnNpemUpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IobnVsbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPdmVybGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Q3Vyc29yKHBvcykge1xuICAgICAgICBpZiAocG9zID09IHRoaXMuY3Vyc29yUG9zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmN1cnNvclBvcyA9IHBvcztcbiAgICAgICAgaWYgKHBvcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT3ZlcmxheSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU92ZXJsYXkoKSB7XG4gICAgICAgIGxldCAkcG9zID0gdGhpcy5lZGl0b3JWaWV3LnN0YXRlLmRvYy5yZXNvbHZlKHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgbGV0IGlzQmxvY2sgPSAhJHBvcy5wYXJlbnQuaW5saW5lQ29udGVudCwgcmVjdDtcbiAgICAgICAgbGV0IGVkaXRvckRPTSA9IHRoaXMuZWRpdG9yVmlldy5kb20sIGVkaXRvclJlY3QgPSBlZGl0b3JET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBzY2FsZVggPSBlZGl0b3JSZWN0LndpZHRoIC8gZWRpdG9yRE9NLm9mZnNldFdpZHRoLCBzY2FsZVkgPSBlZGl0b3JSZWN0LmhlaWdodCAvIGVkaXRvckRPTS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGlmIChpc0Jsb2NrKSB7XG4gICAgICAgICAgICBsZXQgYmVmb3JlID0gJHBvcy5ub2RlQmVmb3JlLCBhZnRlciA9ICRwb3Mubm9kZUFmdGVyO1xuICAgICAgICAgICAgaWYgKGJlZm9yZSB8fCBhZnRlcikge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MgLSAoYmVmb3JlID8gYmVmb3JlLm5vZGVTaXplIDogMCkpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3AgPSBiZWZvcmUgPyBub2RlUmVjdC5ib3R0b20gOiBub2RlUmVjdC50b3A7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmUgJiYgYWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSAodG9wICsgdGhpcy5lZGl0b3JWaWV3Lm5vZGVET00odGhpcy5jdXJzb3JQb3MpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGFsZldpZHRoID0gKHRoaXMud2lkdGggLyAyKSAqIHNjYWxlWTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdCA9IHsgbGVmdDogbm9kZVJlY3QubGVmdCwgcmlnaHQ6IG5vZGVSZWN0LnJpZ2h0LCB0b3A6IHRvcCAtIGhhbGZXaWR0aCwgYm90dG9tOiB0b3AgKyBoYWxmV2lkdGggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBsZXQgY29vcmRzID0gdGhpcy5lZGl0b3JWaWV3LmNvb3Jkc0F0UG9zKHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIGxldCBoYWxmV2lkdGggPSAodGhpcy53aWR0aCAvIDIpICogc2NhbGVYO1xuICAgICAgICAgICAgcmVjdCA9IHsgbGVmdDogY29vcmRzLmxlZnQgLSBoYWxmV2lkdGgsIHJpZ2h0OiBjb29yZHMubGVmdCArIGhhbGZXaWR0aCwgdG9wOiBjb29yZHMudG9wLCBib3R0b206IGNvb3Jkcy5ib3R0b20gfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5lZGl0b3JWaWV3LmRvbS5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5jbGFzcylcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5jbGFzcztcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDUwOyBwb2ludGVyLWV2ZW50czogbm9uZTtcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJwcm9zZW1pcnJvci1kcm9wY3Vyc29yLWJsb2NrXCIsIGlzQmxvY2spO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcInByb3NlbWlycm9yLWRyb3BjdXJzb3ItaW5saW5lXCIsICFpc0Jsb2NrKTtcbiAgICAgICAgbGV0IHBhcmVudExlZnQsIHBhcmVudFRvcDtcbiAgICAgICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50ID09IGRvY3VtZW50LmJvZHkgJiYgZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLnBvc2l0aW9uID09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgIHBhcmVudExlZnQgPSAtcGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICBwYXJlbnRUb3AgPSAtcGFnZVlPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGxldCBwYXJlbnRTY2FsZVggPSByZWN0LndpZHRoIC8gcGFyZW50Lm9mZnNldFdpZHRoLCBwYXJlbnRTY2FsZVkgPSByZWN0LmhlaWdodCAvIHBhcmVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBwYXJlbnRMZWZ0ID0gcmVjdC5sZWZ0IC0gcGFyZW50LnNjcm9sbExlZnQgKiBwYXJlbnRTY2FsZVg7XG4gICAgICAgICAgICBwYXJlbnRUb3AgPSByZWN0LnRvcCAtIHBhcmVudC5zY3JvbGxUb3AgKiBwYXJlbnRTY2FsZVk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0IC0gcGFyZW50TGVmdCkgLyBzY2FsZVggKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3AgPSAocmVjdC50b3AgLSBwYXJlbnRUb3ApIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgLyBzY2FsZVggKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAocmVjdC5ib3R0b20gLSByZWN0LnRvcCkgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgfVxuICAgIHNjaGVkdWxlUmVtb3ZhbCh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0Q3Vyc29yKG51bGwpLCB0aW1lb3V0KTtcbiAgICB9XG4gICAgZHJhZ292ZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvclZpZXcuZWRpdGFibGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmVkaXRvclZpZXcucG9zQXRDb29yZHMoeyBsZWZ0OiBldmVudC5jbGllbnRYLCB0b3A6IGV2ZW50LmNsaWVudFkgfSk7XG4gICAgICAgIGxldCBub2RlID0gcG9zICYmIHBvcy5pbnNpZGUgPj0gMCAmJiB0aGlzLmVkaXRvclZpZXcuc3RhdGUuZG9jLm5vZGVBdChwb3MuaW5zaWRlKTtcbiAgICAgICAgbGV0IGRpc2FibGVEcm9wQ3Vyc29yID0gbm9kZSAmJiBub2RlLnR5cGUuc3BlYy5kaXNhYmxlRHJvcEN1cnNvcjtcbiAgICAgICAgbGV0IGRpc2FibGVkID0gdHlwZW9mIGRpc2FibGVEcm9wQ3Vyc29yID09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBkaXNhYmxlRHJvcEN1cnNvcih0aGlzLmVkaXRvclZpZXcsIHBvcywgZXZlbnQpXG4gICAgICAgICAgICA6IGRpc2FibGVEcm9wQ3Vyc29yO1xuICAgICAgICBpZiAocG9zICYmICFkaXNhYmxlZCkge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHBvcy5wb3M7XG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0b3JWaWV3LmRyYWdnaW5nICYmIHRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSkge1xuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGRyb3BQb2ludCh0aGlzLmVkaXRvclZpZXcuc3RhdGUuZG9jLCB0YXJnZXQsIHRoaXMuZWRpdG9yVmlldy5kcmFnZ2luZy5zbGljZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IodGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW1vdmFsKDUwMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYWdlbmQoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZW1vdmFsKDIwKTtcbiAgICB9XG4gICAgZHJvcCgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbW92YWwoMjApO1xuICAgIH1cbiAgICBkcmFnbGVhdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvclZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IobnVsbCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBkcm9wQ3Vyc29yIH07XG4iXSwibmFtZXMiOlsiUGx1Z2luIiwiZHJvcFBvaW50IiwiZHJvcEN1cnNvciIsIm9wdGlvbnMiLCJ2aWV3IiwiZWRpdG9yVmlldyIsIkRyb3BDdXJzb3JWaWV3IiwiY29uc3RydWN0b3IiLCJfYSIsImN1cnNvclBvcyIsImVsZW1lbnQiLCJ0aW1lb3V0Iiwid2lkdGgiLCJjb2xvciIsInVuZGVmaW5lZCIsImNsYXNzIiwiaGFuZGxlcnMiLCJtYXAiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJkb20iLCJhZGRFdmVudExpc3RlbmVyIiwiZGVzdHJveSIsImZvckVhY2giLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlIiwicHJldlN0YXRlIiwiZG9jIiwic3RhdGUiLCJjb250ZW50Iiwic2l6ZSIsInNldEN1cnNvciIsInVwZGF0ZU92ZXJsYXkiLCJwb3MiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCIkcG9zIiwicmVzb2x2ZSIsImlzQmxvY2siLCJwYXJlbnQiLCJpbmxpbmVDb250ZW50IiwicmVjdCIsImVkaXRvckRPTSIsImVkaXRvclJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY2FsZVgiLCJvZmZzZXRXaWR0aCIsInNjYWxlWSIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImJlZm9yZSIsIm5vZGVCZWZvcmUiLCJhZnRlciIsIm5vZGVBZnRlciIsIm5vZGUiLCJub2RlRE9NIiwibm9kZVNpemUiLCJub2RlUmVjdCIsInRvcCIsImJvdHRvbSIsImhhbGZXaWR0aCIsImxlZnQiLCJyaWdodCIsImNvb3JkcyIsImNvb3Jkc0F0UG9zIiwib2Zmc2V0UGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJwYXJlbnRMZWZ0IiwicGFyZW50VG9wIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJwYXJlbnRTY2FsZVgiLCJwYXJlbnRTY2FsZVkiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwic2NoZWR1bGVSZW1vdmFsIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImRyYWdvdmVyIiwiZXZlbnQiLCJlZGl0YWJsZSIsInBvc0F0Q29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJpbnNpZGUiLCJub2RlQXQiLCJkaXNhYmxlRHJvcEN1cnNvciIsInR5cGUiLCJzcGVjIiwiZGlzYWJsZWQiLCJ0YXJnZXQiLCJkcmFnZ2luZyIsInNsaWNlIiwicG9pbnQiLCJkcmFnZW5kIiwiZHJvcCIsImRyYWdsZWF2ZSIsImNvbnRhaW5zIiwicmVsYXRlZFRhcmdldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/prosemirror-dropcursor/dist/index.js\n");

/***/ })

};
;